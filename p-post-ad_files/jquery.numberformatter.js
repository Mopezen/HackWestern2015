!function(a){function b(a,b,c){this.dec=a,this.group=b,this.neg=c}function c(){for(var a=0;a<k.length;a++){localeGroup=k[a];for(var b=0;b<localeGroup.length;b++)e.put(localeGroup[b],a)}}function d(a,d){0==e.size()&&c();var f=".",g=",",h="-";0==d&&(-1!=a.indexOf("_")?a=a.split("_")[1].toLowerCase():-1!=a.indexOf("-")&&(a=a.split("-")[1].toLowerCase()));var i=e.get(a);if(i){var k=j[i];k&&(f=k[0],g=k[1])}return new b(f,g,h)}var e=new Hashtable,f=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"],g=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"],h=["cz","fi","fr","ru","se","pl"],i=["ch"],j=[[".",","],[",","."],[","," "],[".","'"]],k=[f,g,h,i];a.fn.formatNumber=function(b,c,d){return this.each(function(){null==c&&(c=!0),null==d&&(d=!0);var e;e=a(this).is(":input")?new String(a(this).val()):new String(a(this).text());var f=a.formatNumber(e,b);return c&&(a(this).is(":input")?a(this).val(f):a(this).text(f)),d?f:void 0})},a.formatNumber=function(b,c){for(var c=a.extend({},a.fn.formatNumber.defaults,c),e=d(c.locale.toLowerCase(),c.isFullLocale),f=(e.dec,e.group,e.neg,"0#-,."),g="",h=!1,i=0;i<c.format.length;i++){if(-1!=f.indexOf(c.format.charAt(i))){if(0==i&&"-"==c.format.charAt(i)){h=!0;continue}break}g+=c.format.charAt(i)}for(var j="",i=c.format.length-1;i>=0&&-1==f.indexOf(c.format.charAt(i));i--)j=c.format.charAt(i)+j;c.format=c.format.substring(g.length),c.format=c.format.substring(0,c.format.length-j.length);var k=new Number(b);return a._formatNumber(k,c,j,g,h)},a._formatNumber=function(b,c,e,f,g){var c=a.extend({},a.fn.formatNumber.defaults,c),h=d(c.locale.toLowerCase(),c.isFullLocale),i=h.dec,j=h.group,k=h.neg,l=!1;if(isNaN(b)){if(1!=c.nanForceZero)return null;b=0,l=!0}"%"==e&&(b=100*b);var m="";if(c.format.indexOf(".")>-1){var n=i,o=c.format.substring(c.format.lastIndexOf(".")+1);if(1==c.round)b=new Number(b.toFixed(o.length));else{var p=b.toString();p=p.substring(0,p.lastIndexOf(".")+o.length+1),b=new Number(p)}var q=b%1,r=new String(q.toFixed(o.length));r=r.substring(r.lastIndexOf(".")+1);for(var s=0;s<o.length;s++)if("#"!=o.charAt(s)||"0"==r.charAt(s)){if("#"==o.charAt(s)&&"0"==r.charAt(s)){var t=r.substring(s);if(t.match("[1-9]")){n+=r.charAt(s);continue}break}"0"==o.charAt(s)&&(n+=r.charAt(s))}else n+=r.charAt(s);m+=n}else b=Math.round(b);var u=Math.floor(b);0>b&&(u=Math.ceil(b));var v="";v=-1==c.format.indexOf(".")?c.format:c.format.substring(0,c.format.indexOf("."));var w="";if(0!=u||"#"!=v.substr(v.length-1)||l){var x=new String(Math.abs(u)),y=9999;-1!=v.lastIndexOf(",")&&(y=v.length-v.lastIndexOf(",")-1);for(var z=0,s=x.length-1;s>-1;s--)w=x.charAt(s)+w,z++,z==y&&0!=s&&(w=j+w,z=0);if(v.length>w.length){var A=v.indexOf("0");if(-1!=A)for(var B=v.length-A,C=v.length-w.length-1;w.length<B;){var D=v.charAt(C);","==D&&(D=j),w=D+w,C--}}}return w||-1===v.indexOf("0",v.length-1)||(w="0"),m=w+m,0>b&&g&&f.length>0?f=k+f:0>b&&(m=k+m),c.decimalSeparatorAlwaysShown||m.lastIndexOf(i)==m.length-1&&(m=m.substring(0,m.length-1)),m=f+m+e},a.fn.parseNumber=function(b,c,d){null==c&&(c=!0),null==d&&(d=!0);var e;e=a(this).is(":input")?new String(a(this).val()):new String(a(this).text());var f=a.parseNumber(e,b);return f&&(c&&(a(this).is(":input")?a(this).val(f.toString()):a(this).text(f.toString())),d)?f:void 0},a.parseNumber=function(b,c){for(var c=a.extend({},a.fn.parseNumber.defaults,c),e=d(c.locale.toLowerCase(),c.isFullLocale),f=e.dec,g=e.group,h=e.neg,i="1234567890.-";b.indexOf(g)>-1;)b=b.replace(g,"");b=b.replace(f,".").replace(h,"-");var j="",k=!1;("%"==b.charAt(b.length-1)||1==c.isPercentage)&&(k=!0);for(var l=0;l<b.length;l++)i.indexOf(b.charAt(l))>-1&&(j+=b.charAt(l));var m=new Number(j);if(k){m/=100;var n=j.indexOf(".");if(-1!=n){var o=j.length-n-1;m=m.toFixed(o+2)}else m=m.toFixed(j.length-1)}return m},a.fn.parseNumber.defaults={"locale":"us","decimalSeparatorAlwaysShown":!1,"isPercentage":!1,"isFullLocale":!1},a.fn.formatNumber.defaults={"format":"#,###.00","locale":"us","decimalSeparatorAlwaysShown":!1,"nanForceZero":!0,"round":!0,"isFullLocale":!1},Number.prototype.toFixed=function(b){return a._roundNumber(this,b)},a._roundNumber=function(a,b){var c=Math.pow(10,b||0),d=String(Math.round(a*c)/c);if(b>0){var e=d.indexOf(".");for(-1==e?(d+=".",e=0):e=d.length-(e+1);b>e;)d+="0",e++}return d}}(jQuery);